From 58e03d60603baabf63137cdc81ed774cc94d26d6 Mon Sep 17 00:00:00 2001
From: Khem Raj <raj.khem@gmail.com>
Date: Sat, 6 Feb 2016 11:00:25 -0800
Subject: [PATCH 01/13] Fix VCOS_INLINE_DECL to not use extern inlines in
 declarations

Signed-off-by: Khem Raj <raj.khem@gmail.com>
---
 interface/vcos/pthreads/vcos_platform_types.h | 2 +-
 interface/vcos/vcos_types.h                   | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/interface/vcos/pthreads/vcos_platform_types.h b/interface/vcos/pthreads/vcos_platform_types.h
index 17b422d..64fb381 100644
--- a/interface/vcos/pthreads/vcos_platform_types.h
+++ b/interface/vcos/pthreads/vcos_platform_types.h
@@ -61,7 +61,7 @@ vcos_pthreads_logging_assert(const char *file, const char *func, unsigned int li
 #define VCOS_ASSERT_MSG(...) ((VCOS_ASSERT_LOGGING && !VCOS_ASSERT_LOGGING_DISABLE) ? vcos_pthreads_logging_assert(__FILE__, __func__, __LINE__, __VA_ARGS__) : (void)0)
 
 #define VCOS_INLINE_BODIES
-#define VCOS_INLINE_DECL extern __inline__
+#define VCOS_INLINE_DECL extern
 #define VCOS_INLINE_IMPL static __inline__
 
 #ifdef __cplusplus
diff --git a/interface/vcos/vcos_types.h b/interface/vcos/vcos_types.h
index 6feb4d2..e64fd99 100644
--- a/interface/vcos/vcos_types.h
+++ b/interface/vcos/vcos_types.h
@@ -121,10 +121,10 @@ typedef enum
 #if defined(NDEBUG)
 
 #ifdef __GNUC__
-# define VCOS_INLINE_DECL extern __inline__
+# define VCOS_INLINE_DECL extern
 # define VCOS_INLINE_IMPL static __inline__
 #else
-# define VCOS_INLINE_DECL static _VCOS_INLINE   /* declare a func */
+# define VCOS_INLINE_DECL extern
 # define VCOS_INLINE_IMPL static _VCOS_INLINE   /* implement a func inline */
 #endif
 
-- 
2.7.1

